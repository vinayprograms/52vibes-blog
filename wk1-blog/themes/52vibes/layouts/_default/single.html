{{ define "main" }}
<div class="article-layout">
  {{ if .TableOfContents }}
  <aside aria-label="Table of contents" class="toc-sidebar">
    <div class="toc-sticky">
      <h2>Contents</h2>
      {{ .TableOfContents }}
    </div>
  </aside>
  {{ end }}

  <article class="{{ if .TableOfContents }}has-toc{{ end }}">
    <header>
      <h1>{{ .Title }}</h1>
      {{ if .Params.date }}
      <p class="meta">
        <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
        {{ with .Params.week }} · Week {{ . }}{{ end }}
        · {{ .ReadingTime }} min read
      </p>
      {{ end }}
    </header>

    {{ if .TableOfContents }}
    <nav aria-label="Table of contents" class="toc-mobile">
      <details>
        <summary>Contents</summary>
        {{ .TableOfContents }}
      </details>
    </nav>
    {{ end }}

    <div class="content">
      {{ .Content }}
    </div>

    {{ partial "post-nav.html" . }}

    {{ with .Params.session_log }}
    <p class="session-link">
      <a href="{{ . }}" target="_blank" rel="noopener">View Session Log →</a>
    </p>
    {{ end }}
  </article>
</div>
{{ end }}
